<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Básico de Git</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        /* Estilo del círculo de progreso */
        .progress-circle {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: conic-gradient(#0d6efd 0% 0%, #e9ecef 0% 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: #0d6efd;
            margin: auto;
        }
    </style>
</head>

<body class="bg-light">

    <!-- Encabezado -->
    <div class="header mb-4 text-center">
        <h1 class="fw-bold">🎮 Quiz Básico de Git</h1>
        <p class="text-muted">Pon a prueba lo que has aprendido de los comandos más usados de Git.</p>
    </div>

    <div class="container">

        <!-- Marcador -->
        <div class="alert alert-info text-center fw-bold mb-4" id="quiz-score">
            Pregunta 0 de 11 | Puntuación: 0
        </div>

        <!-- Círculo de progreso -->
        <div class="progress-circle mb-4" id="progress-circle">0/11</div>

        <!-- Preguntas -->
        <section class="my-4">
            <p><strong>1.</strong> ¿Qué hace <code>git init</code>?</p>
            <button class="btn btn-outline-primary quiz-btn" data-correct="true"
                data-feedback="✅ Correcto. Crea un nuevo repositorio vacío." data-target="quiz-feedback-1">Inicializa un
                nuevo repositorio</button>
            <button class="btn btn-outline-primary quiz-btn" data-correct="false"
                data-feedback="❌ Incorrecto. No clona repositorios." data-target="quiz-feedback-1">Clona un repositorio
                remoto</button>
            <p id="quiz-feedback-1" class="mt-3 fw-bold"></p>
        </section>

        <section class="my-4">
            <p><strong>2.</strong> ¿Qué comando muestra el estado actual de los archivos?</p>
            <button class="btn btn-outline-primary quiz-btn" data-correct="true"
                data-feedback="✅ Correcto. git status muestra los cambios." data-target="quiz-feedback-2">git
                status</button>
            <button class="btn btn-outline-primary quiz-btn" data-correct="false"
                data-feedback="❌ Incorrecto. git log muestra historial." data-target="quiz-feedback-2">git log</button>
            <p id="quiz-feedback-2" class="mt-3 fw-bold"></p>
        </section>

        <section class="my-4">
            <p><strong>3.</strong> ¿Qué hace <code>git add</code>?</p>
            <button class="btn btn-outline-primary quiz-btn" data-correct="true"
                data-feedback="✅ Correcto. Añade archivos al área de preparación." data-target="quiz-feedback-3">Agrega
                archivos al área de staging</button>
            <button class="btn btn-outline-primary quiz-btn" data-correct="false"
                data-feedback="❌ Incorrecto. No guarda los cambios, solo los prepara."
                data-target="quiz-feedback-3">Guarda los cambios en el repositorio</button>
            <p id="quiz-feedback-3" class="mt-3 fw-bold"></p>
        </section>

        <section class="my-4">
            <p><strong>4.</strong> ¿Qué comando crea un commit?</p>
            <button class="btn btn-outline-primary quiz-btn" data-correct="true"
                data-feedback="✅ Correcto. git commit guarda los cambios en el historial."
                data-target="quiz-feedback-4">git commit</button>
            <button class="btn btn-outline-primary quiz-btn" data-correct="false"
                data-feedback="❌ Incorrecto. git push sube cambios al remoto." data-target="quiz-feedback-4">git
                push</button>
            <p id="quiz-feedback-4" class="mt-3 fw-bold"></p>
        </section>

        <section class="my-4">
            <p><strong>5.</strong> ¿Qué hace <code>git log</code>?</p>
            <button class="btn btn-outline-primary quiz-btn" data-correct="true"
                data-feedback="✅ Correcto. Muestra el historial de commits." data-target="quiz-feedback-5">Muestra el
                historial de commits</button>
            <button class="btn btn-outline-primary quiz-btn" data-correct="false"
                data-feedback="❌ Incorrecto. git status no muestra historial." data-target="quiz-feedback-5">Muestra el
                estado de los archivos</button>
            <p id="quiz-feedback-5" class="mt-3 fw-bold"></p>
        </section>

        <section class="my-4">
            <p><strong>6.</strong> ¿Qué comando crea una nueva rama?</p>
            <button class="btn btn-outline-primary quiz-btn" data-correct="true"
                data-feedback="✅ Correcto. git branch nombre crea una nueva rama." data-target="quiz-feedback-6">git
                branch nueva_rama</button>
            <button class="btn btn-outline-primary quiz-btn" data-correct="false"
                data-feedback="❌ Incorrecto. git checkout cambia de rama." data-target="quiz-feedback-6">git
                checkout</button>
            <p id="quiz-feedback-6" class="mt-3 fw-bold"></p>
        </section>

        <section class="my-4">
            <p><strong>7.</strong> ¿Qué hace <code>git checkout</code>?</p>
            <button class="btn btn-outline-primary quiz-btn" data-correct="true"
                data-feedback="✅ Correcto. Cambia de rama o restaura archivos." data-target="quiz-feedback-7">Cambia de
                rama</button>
            <button class="btn btn-outline-primary quiz-btn" data-correct="false"
                data-feedback="❌ Incorrecto. git init crea un repo nuevo." data-target="quiz-feedback-7">Inicializa un
                repositorio</button>
            <p id="quiz-feedback-7" class="mt-3 fw-bold"></p>
        </section>

        <section class="my-4">
            <p><strong>8.</strong> ¿Qué comando sube cambios al remoto?</p>
            <button class="btn btn-outline-primary quiz-btn" data-correct="true"
                data-feedback="✅ Correcto. git push envía commits al remoto." data-target="quiz-feedback-8">git
                push</button>
            <button class="btn btn-outline-primary quiz-btn" data-correct="false"
                data-feedback="❌ Incorrecto. git pull descarga cambios." data-target="quiz-feedback-8">git pull</button>
            <p id="quiz-feedback-8" class="mt-3 fw-bold"></p>
        </section>

        <section class="my-4">
            <p><strong>9.</strong> ¿Qué hace <code>git pull</code>?</p>
            <button class="btn btn-outline-primary quiz-btn" data-correct="true"
                data-feedback="✅ Correcto. Descarga y fusiona cambios remotos." data-target="quiz-feedback-9">Descarga y
                fusiona cambios remotos</button>
            <button class="btn btn-outline-primary quiz-btn" data-correct="false"
                data-feedback="❌ Incorrecto. git push sube cambios." data-target="quiz-feedback-9">Sube cambios al
                remoto</button>
            <p id="quiz-feedback-9" class="mt-3 fw-bold"></p>
        </section>

        <section class="my-4">
            <p><strong>10.</strong> ¿Qué hace <code>git clone</code>?</p>
            <button class="btn btn-outline-primary quiz-btn" data-correct="true"
                data-feedback="✅ Correcto. Clona un repositorio remoto." data-target="quiz-feedback-10">Clona un
                repositorio remoto</button>
            <button class="btn btn-outline-primary quiz-btn" data-correct="false"
                data-feedback="❌ Incorrecto. git init inicializa uno vacío." data-target="quiz-feedback-10">Inicializa
                un nuevo repositorio</button>
            <p id="quiz-feedback-10" class="mt-3 fw-bold"></p>
        </section>

        <section class="my-4">
            <p><strong>11.</strong> ¿Qué comando muestra diferencias entre archivos?</p>
            <button class="btn btn-outline-primary quiz-btn" data-correct="true"
                data-feedback="✅ Correcto. git diff muestra diferencias." data-target="quiz-feedback-11">git
                diff</button>
            <button class="btn btn-outline-primary quiz-btn" data-correct="false"
                data-feedback="❌ Incorrecto. git log muestra historial." data-target="quiz-feedback-11">git log</button>
            <p id="quiz-feedback-11" class="mt-3 fw-bold"></p>
        </section>

        <!-- Resultado final -->
        <div class="my-5 text-center">
            <h3 class="fw-bold">🏆 Resultado Final</h3>
            <p id="quiz-final" class="mt-3 fs-5"></p>
        </div>

    </div>

    <!-- Script al final -->
    <script>
        console.log("EMPIEZA");

        let total = 11;
        let score = 0;
        let answered = 0;

        const buttons = document.querySelectorAll(".quiz-btn");
        const circle = document.getElementById("progress-circle");

        console.log("🚀 Quiz inicializado");
        console.log(`🔢 Total de preguntas: ${total}`);
        console.log(`📊 Estado inicial -> answered: ${answered}, score: ${score}`);

        buttons.forEach((btn, index) => {
            console.log(`🎯 Botón detectado [${index}] ->`, btn);

            btn.addEventListener("click", () => {
                console.log("👉 Click en botón:", btn.textContent);

                const feedbackId = btn.getAttribute("data-target");
                const feedbackElement = document.getElementById(feedbackId);
                const esCorrecta = btn.getAttribute("data-correct") === "true";

                console.log(`📌 Feedback ID: ${feedbackId}`);
                console.log(`📌 Texto feedback: ${btn.getAttribute("data-feedback")}`);
                console.log(`📌 ¿Es correcta?: ${esCorrecta}`);

                feedbackElement.textContent = btn.getAttribute("data-feedback");

                // evitar puntuar dos veces misma pregunta
                if (!feedbackElement.classList.contains("answered")) {
                    answered++;
                    console.log(`➕ Pregunta nueva -> answered ahora es: ${answered}`);

                    if (esCorrecta) {
                        score++;
                        console.log(`✅ Correcta -> score ahora es: ${score}`);
                    } else {
                        console.log(`❌ Incorrecta -> score se mantiene en: ${score}`);
                    }

                    feedbackElement.classList.add("answered");
                    console.log("🔒 Feedback marcado como 'answered'");
                } else {
                    console.log("⚠️ Esta pregunta ya estaba contestada, no suma nada.");
                }

                // actualizar marcador
                document.getElementById("quiz-score").textContent =
                    `Pregunta ${answered} de ${total} | Puntuación: ${score}`;

                console.log(`📊 Estado actual -> answered: ${answered}, score: ${score}`);

                // actualizar círculo
                let percent = (answered / total) * 100;
                circle.style.background = `conic-gradient(#0d6efd ${percent}%, #e9ecef ${percent}% 100%)`;
                circle.textContent = `${score}/${total}`;

                console.log(`🔵 Círculo actualizado -> ${percent.toFixed(2)}% completado`);

                // si terminó
                if (answered === total) {
                    let mensaje = "";
                    if (score < 4) {
                        mensaje = "😅 Aún queda mucho por aprender. ¡Sigue practicando!";
                    } else if (score < 8) {
                        mensaje = "💡 Vas por buen camino. ¡Continúa reforzando tus conocimientos!";
                    } else if (score < 11) {
                        mensaje = "🔥 Genial, dominas bastante los comandos básicos.";
                    } else {
                        mensaje = "🏅 ¡Excelente! Has respondido todo perfecto.";
                    }

                    document.getElementById("quiz-final").textContent =
                        `Has acertado ${score} de ${total}. ${mensaje}`;

                    console.log("🏁 Quiz terminado ->", `Aciertos: ${score} de ${total}`);
                }
            });
        });
    </script>

</body>
</html>
